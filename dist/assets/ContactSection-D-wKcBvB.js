import{c as E,u as M,r as n,g as m,j as t,S as q}from"./index-BK73hJ8-.js";import{A as K}from"./arrow-right-w4-K9y9Z.js";import{M as I,P as L}from"./phone-G4XXu-HQ.js";import{M as D}from"./map-pin-J2UGCY3Q.js";import{C as O}from"./circle-check-big-CZdYP73_.js";import{T as W}from"./triangle-alert-DZoIJOej.js";import{S as U}from"./send-CjJWiCSp.js";const $=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z=E("calendar",$);m.registerPlugin(q);const B=[{icon:I,labelKey:"contact.email",value:"hello@ancloraprivateestates.com",href:"mailto:hello@ancloraprivateestates.com"},{icon:L,labelKey:"contact.whatsapp",value:"+34 600 000 000",href:"tel:+34600000000"},{icon:D,labelKey:"contact.office",value:"Palma de Mallorca",href:"#"}];function tt(){const{t:e}=M(),g=n.useRef(null),C=n.useRef(null),S=n.useRef(null),b=n.useRef(null),T="https://nexus.anclora.group/api/public/cta/lead",h="none".toLowerCase(),s=h==="recaptcha"||h==="altcha"?h:"none",v="",N="",[o,i]=n.useState({firstName:"",lastName:"",phone:"",email:"",interest:"",message:"",newsletter:!1,privacyAccepted:!1}),[j,y]=n.useState(!1),[w,d]=n.useState("idle"),[_,p]=n.useState(""),[x,A]=n.useState(""),[J,u]=n.useState(s==="none");n.useRef(null);const k=n.useRef(null);n.useEffect(()=>{const c=g.current,a=C.current,l=S.current,r=b.current;if(!c||!a||!l||!r)return;const f=m.context(()=>{m.fromTo(a,{x:"-8vw",opacity:0},{x:0,opacity:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:a,start:"top 80%",toggleActions:"play none none reverse"}}),m.fromTo(l,{x:"8vw",opacity:0},{x:0,opacity:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:l,start:"top 80%",toggleActions:"play none none reverse"}}),m.fromTo(r,{y:50,opacity:0},{y:0,opacity:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 85%",toggleActions:"play none none reverse"}})},c);return()=>f.revert()},[e]),n.useEffect(()=>{if(s==="none"){u(!0);return}if(s==="recaptcha"){u(!1);return}if(s==="altcha"){u(!1);return}},[N,s,v]);const F=async c=>{c.preventDefault();const a=c.currentTarget;if(!o.privacyAccepted){d("error"),p(e("contact.form.privacyRequired"));return}if(s==="recaptcha"&&!x){d("error"),p(e("contact.form.captchaRequired"));return}let l;if(s==="altcha"){const r=new FormData(a).get("altcha");if(l=typeof r=="string"?r:"",!l){d("error"),p(e("contact.form.captchaRequired"));return}}y(!0),d("idle"),p("");try{const f={name:`${o.firstName} ${o.lastName}`.trim()||o.firstName||"Web Contact",email:o.email||void 0,phone:o.phone||void 0,property_interest:o.interest||void 0,message:o.message||void 0,notes:{message:o.message||null,newsletter_opt_in:o.newsletter},source:"web",source_system:"cta_web",source_channel:"website",source_detail:"private-estates-contact-form",source_url:window.location.href,source_referrer:document.referrer||void 0,captcha_provider:s!=="none"?s:void 0,captcha_token:s==="recaptcha"?x:void 0,altcha_payload:s==="altcha"?l:void 0,captcha:s==="recaptcha"?{provider:"recaptcha",token:x}:s==="altcha"?{provider:"altcha",payload:l}:void 0},R=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!R.ok){const P=await R.json().catch(()=>({}));throw new Error(P?.detail||e("contact.form.error"))}d("success"),i({firstName:"",lastName:"",phone:"",email:"",interest:"",message:"",newsletter:!1,privacyAccepted:!1}),A(""),s==="recaptcha"&&window.grecaptcha&&k.current!==null&&window.grecaptcha.reset(k.current)}catch(r){d("error"),p(r instanceof Error?r.message:e("contact.form.error"))}finally{y(!1)}};return t.jsx("section",{"code-path":"src\\sections\\ContactSection.tsx:316:5",ref:g,id:"contact",className:"section-flowing bg-anclora-cream dark:bg-anclora-teal py-24 lg:py-32",children:t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:321:7",className:"w-full px-6 lg:pl-12 lg:pr-[136px]",children:[t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:322:9",className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:324:11",className:"lg:col-span-7",children:t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:325:13",ref:C,className:"card-premium overflow-hidden h-[64vh] relative",children:[t.jsx("img",{"code-path":"src\\sections\\ContactSection.tsx:329:15",src:"/images/contact-office.jpg",alt:"Anclora Office",className:"w-full h-full object-cover"}),t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:334:15",className:"absolute inset-0 bg-gradient-to-t from-anclora-teal dark:from-anclora-teal via-anclora-teal/60 dark:via-anclora-teal/60 to-transparent"}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:337:15",className:"absolute bottom-0 left-0 right-0 p-8 lg:p-12",children:[t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:338:17",className:"text-eyebrow mb-4",children:e("nav.contact")}),t.jsxs("h2",{"code-path":"src\\sections\\ContactSection.tsx:339:17",className:"font-display text-4xl lg:text-5xl font-bold text-anclora-cream leading-tight mb-4",children:[e("contact.title").split(".")[0],".",t.jsx("br",{"code-path":"src\\sections\\ContactSection.tsx:340:54"}),e("contact.title").split(".")[1],"."]}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:342:17",className:"text-anclora-text-muted leading-relaxed max-w-lg mb-6",children:e("contact.description")}),t.jsxs("button",{"code-path":"src\\sections\\ContactSection.tsx:345:17",className:"btn-anclora-premium flex items-center gap-2 !min-w-[200px]",children:[t.jsx(z,{"code-path":"src\\sections\\ContactSection.tsx:346:19",className:"w-4 h-4"}),e("contact.cta"),t.jsx(K,{"code-path":"src\\sections\\ContactSection.tsx:348:19",className:"w-4 h-4"})]})]})]})}),t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:355:11",className:"lg:col-span-5",children:t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:356:13",ref:S,className:"h-full flex flex-col justify-center",children:t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:360:15",className:"p-8 bg-anclora-teal-bg dark:bg-anclora-teal-bg/70 rounded-2xl border border-anclora-navy/10 dark:border-white/10",children:[t.jsx("h3",{"code-path":"src\\sections\\ContactSection.tsx:361:17",className:"font-display text-2xl font-semibold text-anclora-cream mb-8",children:e("footer.contact")}),t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:365:17",className:"space-y-6",children:B.map(c=>t.jsxs("a",{"code-path":"src\\sections\\ContactSection.tsx:367:21",href:c.href,className:"flex items-center gap-4 group",children:[t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:372:23",className:"w-12 h-12 rounded-full bg-anclora-gold/10 flex items-center justify-center flex-shrink-0 group-hover:bg-anclora-gold/20 transition-colors",children:t.jsx(c.icon,{"code-path":"src\\sections\\ContactSection.tsx:373:25",className:"w-5 h-5 text-anclora-gold"})}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:375:23",children:[t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:376:25",className:"text-sm text-anclora-text-muted mb-0.5",children:e(c.labelKey)}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:379:25",className:"text-anclora-cream font-medium group-hover:text-anclora-gold transition-colors",children:c.value})]})]},c.labelKey))}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:388:17",className:"mt-8 pt-8 border-t border-anclora-navy/10 dark:border-white/10",children:[t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:389:19",className:"text-sm text-anclora-text-muted mb-2",children:e("contact.hours")}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:392:19",className:"text-anclora-cream",children:e("contact.weekdays")}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:395:19",className:"text-anclora-cream",children:e("contact.saturday")})]})]})})})]}),t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:404:9",ref:b,className:"mt-10 lg:mt-14",children:t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:405:11",className:"card-premium p-6 lg:p-8",children:[t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:406:13",className:"mb-6",children:[t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:407:15",className:"text-eyebrow mb-3",children:e("contact.form.eyebrow")}),t.jsx("h3",{"code-path":"src\\sections\\ContactSection.tsx:408:15",className:"font-display text-3xl lg:text-4xl font-semibold text-anclora-cream mb-3",children:e("contact.form.title")}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:411:15",className:"text-anclora-text-muted leading-relaxed",children:e("contact.form.description")})]}),w==="success"?t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:417:15",className:"rounded-xl border border-anclora-gold/30 bg-anclora-gold/10 p-5 flex items-start gap-3",children:[t.jsx(O,{"code-path":"src\\sections\\ContactSection.tsx:418:17",className:"w-5 h-5 text-anclora-gold mt-0.5"}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:419:17",className:"text-anclora-cream",children:e("contact.form.success")})]}):t.jsxs("form",{"code-path":"src\\sections\\ContactSection.tsx:422:15",onSubmit:F,className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-5",children:[t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:423:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:424:19",htmlFor:"firstName",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.firstName")}),t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:427:19",id:"firstName",type:"text",className:"input-anclora",value:o.firstName,onChange:c=>i(a=>({...a,firstName:c.target.value})),placeholder:e("contact.form.placeholderFirstName"),required:!0})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:438:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:439:19",htmlFor:"lastName",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.lastName")}),t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:442:19",id:"lastName",type:"text",className:"input-anclora",value:o.lastName,onChange:c=>i(a=>({...a,lastName:c.target.value})),placeholder:e("contact.form.placeholderLastName"),required:!0})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:453:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:454:19",htmlFor:"phone",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.phone")}),t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:457:19",id:"phone",type:"tel",className:"input-anclora",value:o.phone,onChange:c=>i(a=>({...a,phone:c.target.value})),placeholder:e("contact.form.placeholderPhone"),required:!0})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:468:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:469:19",htmlFor:"email",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.email")}),t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:472:19",id:"email",type:"email",className:"input-anclora",value:o.email,onChange:c=>i(a=>({...a,email:c.target.value})),placeholder:e("contact.form.placeholderEmail"),required:!0})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:483:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:484:19",htmlFor:"interest",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.interest")}),t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:487:19",id:"interest",type:"text",className:"input-anclora",value:o.interest,onChange:c=>i(a=>({...a,interest:c.target.value})),placeholder:e("contact.form.placeholderInterest")})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:497:17",children:[t.jsx("label",{"code-path":"src\\sections\\ContactSection.tsx:498:19",htmlFor:"message",className:"block text-sm text-anclora-text-muted mb-1.5",children:e("contact.form.message")}),t.jsx("textarea",{"code-path":"src\\sections\\ContactSection.tsx:501:19",id:"message",className:"input-anclora h-28 resize-none",value:o.message,onChange:c=>i(a=>({...a,message:c.target.value})),placeholder:e("contact.form.placeholderMessage")})]}),t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:510:17",className:"lg:col-span-2 space-y-2.5 mt-1",children:[s!=="none"&&t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:512:21",className:"captcha-shell",children:[t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:513:23",className:"text-sm text-anclora-text-muted mb-3",children:e("contact.form.captchaLabel")}),s==="recaptcha"&&t.jsx(t.Fragment,{children:t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:518:29",className:"text-sm text-red-200",children:e("contact.form.captchaNotConfigured")})}),s==="altcha"&&t.jsx(t.Fragment,{children:t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:535:29",className:"text-sm text-red-200",children:e("contact.form.captchaNotConfigured")})})]}),t.jsxs("label",{"code-path":"src\\sections\\ContactSection.tsx:548:19",className:"flex items-start gap-2.5 text-sm text-anclora-text-muted cursor-pointer",children:[t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:549:21",type:"checkbox",className:"mt-0.5 accent-[var(--anclora-gold)]",checked:o.newsletter,onChange:c=>i(a=>({...a,newsletter:c.target.checked}))}),t.jsx("span",{"code-path":"src\\sections\\ContactSection.tsx:555:21",children:e("contact.form.newsletter")})]}),t.jsxs("label",{"code-path":"src\\sections\\ContactSection.tsx:558:19",className:"flex items-start gap-2.5 text-sm text-anclora-text-muted cursor-pointer",children:[t.jsx("input",{"code-path":"src\\sections\\ContactSection.tsx:559:21",type:"checkbox",className:"mt-0.5 accent-[var(--anclora-gold)]",checked:o.privacyAccepted,onChange:c=>i(a=>({...a,privacyAccepted:c.target.checked})),required:!0}),t.jsx("span",{"code-path":"src\\sections\\ContactSection.tsx:566:21",children:e("contact.form.privacy")})]})]}),w==="error"&&t.jsxs("div",{"code-path":"src\\sections\\ContactSection.tsx:571:19",className:"lg:col-span-2 rounded-xl border border-red-400/25 bg-red-500/10 p-4 flex items-start gap-2.5",children:[t.jsx(W,{"code-path":"src\\sections\\ContactSection.tsx:572:21",className:"w-4 h-4 text-red-300 mt-0.5"}),t.jsx("p",{"code-path":"src\\sections\\ContactSection.tsx:573:21",className:"text-sm text-red-100",children:_||e("contact.form.error")})]}),t.jsx("div",{"code-path":"src\\sections\\ContactSection.tsx:577:17",className:"lg:col-span-2 pt-2",children:t.jsxs("button",{"code-path":"src\\sections\\ContactSection.tsx:578:19",type:"submit",disabled:j||!o.privacyAccepted||s==="recaptcha"&&!v||s==="altcha"&&!N,className:"btn-anclora-premium inline-flex items-center gap-2 !min-w-[220px] disabled:opacity-70 disabled:cursor-not-allowed",children:[t.jsx(U,{"code-path":"src\\sections\\ContactSection.tsx:588:21",className:"w-4 h-4"}),e(j?"contact.form.sending":"contact.form.submit")]})})]})]})})]})})}export{tt as ContactSection};
